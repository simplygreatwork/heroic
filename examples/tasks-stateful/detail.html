
<div>
	<div class="container">
		<section class="content tasks">
			<section class="scroll">
				<input data-title>
				<button>Complete Task</button>
				<button>Discard Task</button>
			</section>
		</section>
		<section name="void" class="void" data-component="../shared/views/empty.html"></section>
	</div>
	
	<script type="module">
		
		import { Component } from 'component'
		import { bind_text_field } from 'bind'
		import { bind_click } from 'bind'
		
		Component.ready(({ component, data, $ }) => {
			
			const { id, item, bus, cloud } = data
			const { input, button } = $()
			
			input.value = item.title
			const parse = (value) => { bus.emit('title-changed'); return value }
			bind_text_field(input, cloud, `tasks/${id}/title`, parse)
			
			const { set, undo, redo, scope } = cloud
			bind_click(button[0], () => cloud.set(`tasks/${id}/done`, true), scope)
			bind_click(button[1], () => cloud.remove(`tasks/${id}`), scope)		
		})
		
	</script>
</div>
