
<div>
	<div class="container">
		<section class="content">
			<header id="data_title" data-title style="display:none;"></header>
			<section class="scroll">
				<input id="title" name="title" class="task-title">
				<button id="done" class="task-done">Complete Task</button>
				<button id="close" class="task-close">Discard Task</button>
			</section>
		</section>
		<section name="void" data-component="../shared/views/empty.html" class="void"></section>
	</div>
	
	<script type="module">
		
		import { Component } from 'component'
		
		Component.ready(({ component, data, $, elements }) => {
			
			const { id, item, bus, cloud } = data
			const { title, data_title, done, close } = elements
			
			title.value = data_title.innerText = item.title
			title.oninput = () => {
				cloud.set(`tasks/${id}/title`, title.value)
				data_title.innerText = title.value
				bus.emit('title-changed')
			}
			done.onclick = () => cloud.set(`tasks/${id}/done`, true)
			close.onclick = () => cloud.remove(`tasks/${id}`)
		})
		
	</script>
</div>
